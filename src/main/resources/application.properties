# =============================================================================
# Application Configuration
# =============================================================================
quarkus.application.name=quarkus-k3s-poc
quarkus.application.version=1.0.0

# =============================================================================
# HTTP Server
# =============================================================================
quarkus.http.port=8080
quarkus.http.host=0.0.0.0

# =============================================================================
# Container Image Configuration (Jib)
# =============================================================================
# Image name: adjust registry as needed (e.g., docker.io, ghcr.io, your-registry.io)
quarkus.container-image.registry=docker.io
quarkus.container-image.group=cenzo104
quarkus.container-image.name=quarkus-k3s-poc
quarkus.container-image.tag=1.0.0

# Build the image during mvn package
quarkus.container-image.build=true
# Push to registry (enable when ready)
quarkus.container-image.push=true

# Base image for JVM mode
quarkus.jib.base-jvm-image=eclipse-temurin:17-jre-alpine
# For native compilation, use:
# quarkus.jib.base-native-image=quay.io/quarkus/quarkus-micro-image:2.0

# =============================================================================
# Kubernetes/K3s Configuration
# =============================================================================
# Target platform: kubernetes (works with k3s)
quarkus.kubernetes.deployment-target=kubernetes

# Namespace
quarkus.kubernetes.namespace=default

# Deployment strategy
quarkus.kubernetes.replicas=2
quarkus.kubernetes.deployment-kind=Deployment

# Service type: ClusterIP, NodePort, or LoadBalancer
quarkus.kubernetes.service-type=ClusterIP

# Resource limits
quarkus.kubernetes.resources.requests.memory=128Mi
quarkus.kubernetes.resources.requests.cpu=100m
quarkus.kubernetes.resources.limits.memory=512Mi
quarkus.kubernetes.resources.limits.cpu=500m

# =============================================================================
# Health Probes (for Kubernetes)
# =============================================================================
# Liveness probe
quarkus.kubernetes.liveness-probe.http-action-path=/q/health/live
quarkus.kubernetes.liveness-probe.initial-delay=5s
quarkus.kubernetes.liveness-probe.period=10s

# Readiness probe
quarkus.kubernetes.readiness-probe.http-action-path=/q/health/ready
quarkus.kubernetes.readiness-probe.initial-delay=5s
quarkus.kubernetes.readiness-probe.period=10s

# Startup probe
quarkus.kubernetes.startup-probe.http-action-path=/q/health/started
quarkus.kubernetes.startup-probe.initial-delay=0s
quarkus.kubernetes.startup-probe.period=3s
quarkus.kubernetes.startup-probe.failure-threshold=10

# =============================================================================
# Labels and Annotations
# =============================================================================
quarkus.kubernetes.labels."app.kubernetes.io/part-of"=quarkus-demo
quarkus.kubernetes.labels."app.kubernetes.io/managed-by"=quarkus
#quarkus.kubernetes.annotations."app.quarkus.io/build-timestamp"=${maven.build.timestamp}

# =============================================================================
# Ingress Configuration (optional - for external access)
# =============================================================================
# quarkus.kubernetes.ingress.expose=true
# quarkus.kubernetes.ingress.host=api.example.local
# quarkus.kubernetes.ingress.ingress-class-name=traefik

# =============================================================================
# Environment Variables (injected into container)
# =============================================================================
quarkus.kubernetes.env.vars.JAVA_OPTS=-Xms128m -Xmx384m
quarkus.kubernetes.env.vars.TZ=Europe/Rome

# =============================================================================
# OpenAPI / Swagger
# =============================================================================
quarkus.smallrye-openapi.path=/q/openapi
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/q/swagger-ui

# =============================================================================
# Logging
# =============================================================================
quarkus.log.console.enable=true
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.console.level=INFO
quarkus.log.category."com.example".level=DEBUG

# =============================================================================
# Development Mode
# =============================================================================
%dev.quarkus.http.port=8080
%dev.quarkus.log.category."com.example".level=DEBUG
